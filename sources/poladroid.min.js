/**
 *Poladroid v 0.1 
 */
!function(){var t=function(t,n,i){return new e(t,n,i)},e=function(t,e,n){var n=n,t=t,i=e.width,a=e.height,d=e.quality,l=null,r=null,h=null,o=function(){var t=new Image;t.onload=function(){var e=t.width/t.height,r=document.createElement("canvas"),h=r.getContext("2d");e>=1?(r.width=i,t.width<i?r.height=a:r.height=Math.round(a/e)):(t.height<a?r.width=i:r.width=Math.round(i*e),r.height=a),h.drawImage(t,0,0,r.width,r.height),l=r.toDataURL("image/jpeg",Math.round(100*d)/1e4),null!=n&&n(l)},t.src=l};return document.getElementById(t).addEventListener("click",function(){null!=h&&(h.remove(),h=null),h=document.createElement("input"),h.setAttribute("type","file"),h.addEventListener("change",function(t){var e=t.target.files;if(e&&e.length>0&&(r=e[0]),null!=r){var n=new FileReader;n.onload=function(t){l=t.target.result,o()},n.readAsDataURL(r)}this.remove()},!0),h.click()}),this};window.Poladroid||(window.Poladroid=t)}();